<h3 class="first">Apontamento de Horas</h3>
<hr>
<div class="table-responsive cab-home">
<p-table [value]="apontamentos" value="usuario" [paginator]="true" [rows]="5">
  <ng-template pTemplate="caption">
        <div class="ui-helper-clearfix">
            <p-button class="ui-button-danger" icon="fas fa-plus" (onClick)="onClickCreate(1, usuario.Departamento, usuario.Matricula, usuario.Nome)" label="Novo Apontamento" style="float:left"></p-button>
            <button pButton label="Exportar Dados" style="float:right"></button>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th>Ação</th>
            <th>Nome</th>
            <th>Matrícula</th>
            <th>Início</th>
            <th>Fim</th>
            <th>Duração</th>
            <th>Departamento</th>
            <th>Classificação</th>
            <th>Processo</th>
            <th>Detalhamento</th>
            <th>Observação</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-apontamentos>
        <tr>
          <div class="ui-g-8 ui-fluid">
          <td>
            <div class="row acao">
              <p-button class="ui-button-danger" icon="fas fa-save" (onClick)="onEditComplete(
                        apontamentos.ID, apontamentos.nome, apontamentos.matricula, apontamentos.inicio,
                        apontamentos.fim, apontamentos.duracao, apontamentos.departamento, apontamentos.classificacao,
                        apontamentos.processo, apontamentos.detalhamento, apontamentos.observacao
                        );">
              </p-button>
              <p-button class="ui-button-raised ui-button-rounded" icon="fas fa-trash" (onClick)="onClick(apontamentos.ID)">
              </p-button>
            </div>
          </td>
          </div>

            <td class="ui-resizable-column">
              {{apontamentos.nome}}
            </td>
            <td class="ui-resizable-column">
              {{apontamentos.matricula}}
            </td>
          <td pEditableColumn class="ui-resizable-column">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                      <div class="ui-g-5">
                        <p-inputMask type="text" mask="9999-99-99 99:99:99" id="inicio" name="inicio" [(ngModel)]="apontamentos.inicio" placeholder="aaaa-mm-dd hh:mm:ss">
                        </p-inputMask>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{apontamentos.inicio}}
                    </ng-template>
                </p-cellEditor>
            </td>
          <td pEditableColumn class="ui-resizable-column">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                      <div class="ui-g-5">
                        <p-inputMask type="text" mask="9999-99-99 99:99:99" id="fim" name="fim" [(ngModel)]="apontamentos.fim" placeholder="aaaa-mm-dd hh:mm:ss">
                        </p-inputMask>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{apontamentos.fim}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td pEditableColumn class="ui-resizable-column">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <div class="ui-g-3">
                        <p-inputMask type="text" mask="99:99:99" id="duracao" name="duracao" [(ngModel)]="apontamentos.duracao" placeholder="hh:mm:ss">
                        </p-inputMask>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{apontamentos.duracao}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td class="ui-resizable-column">
              {{apontamentos.departamento}}
            </td>
            <td pEditableColumn class="ui-resizable-column">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input type="text" id="classificacao" name="classificacao" [(ngModel)]="apontamentos.classificacao" value="Null">
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{apontamentos.classificacao}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td pEditableColumn class="ui-resizable-column">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input type="text" id="processo" name="processo" [(ngModel)]="apontamentos.processo">
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{apontamentos.processo}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td pEditableColumn class="ui-resizable-column">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                      <div class="ui-g-8 ui-fluid">
                        <textarea rows="7" cols="40" pInputTextarea id="detalhamento" name="detalhamento" [(ngModel)]="apontamentos.detalhamento"></textarea>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{apontamentos.detalhamento}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td pEditableColumn class="ui-resizable-column">
                <p-cellEditor>
                    <ng-template pTemplate="input">
                      <div class="ui-g-8 ui-fluid">
                        <textarea rows="7" cols="40" pInputTextarea id="observacao" name="observacao" [(ngModel)]="apontamentos.observacao"></textarea>
                      </div>
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{apontamentos.observacao}}
                    </ng-template>
                </p-cellEditor>
            </td>
        </tr>
    </ng-template>
</p-table>
</div>
